<!DOCTYPE html>
<html>
<head>

<style type="text/css">
body {
	font: 2em Arial, sans-serif;
}

#image-container {
	border: 1px solid #ddd;
	margin: 1em auto;
	max-width: 100%;
	text-align: center;
	background-color: #aaa;
}
#image-container h3 {
	margin: 0;
	padding: 0.7em;
	background: #303030;
	color: #fff;
	font-weight: normal;
	font-size: 1em;
	text-transform: uppercase;	
}

#image-container .images a {
	display: inline-block;
	margin: 0.5em;
}

#image-container .images a img {
	padding: 5px;
	border: 1px solid #ddd;
}

/***** lightbox   *****/

#lightbox {
    position:fixed; /* keeps the lightbox window in the current viewport */
    top:0; 
    left:0; 
    width:100%; 
    height:100%; 
    background: rgba(0,0,0,.7); 
    text-align:center;
}
#lightbox p {
    text-align:right; 
    color:#fff; 
    margin-right:20px; 
    font-size:12px; 
}

#lightbox img {
    box-shadow:0 0 25px #111;
    -webkit-box-shadow:0 0 25px #111;
    -moz-box-shadow:0 0 25px #111;
    max-width:940px;
}



</style>

</head>



<body>
	

<div id="image-container"></div>
<div id="lightbox">
    <p>Click to close</p>
    <div id="content">
        <img src="#" />
    </div>
</div>

<script type="text/javascript">
(function() {
	function FlickrProject() {
		this.init();
	}
	
	FlickrProject.prototype = {
		init: function() {
			this.user = "9885480@N02"; //this is the user's id
			this.album = "72157662157461495"; //album id
			window.getPhotos = this.getPhotos; //photos are retrieved once the window opens
			//JSON request from flickr
			this.getJSON();	
		},

		
		getJSON: function() {
			
			var src = "http://api.flickr.com/services/feeds/photoset.gne?nsid=" + this.user + "&set=" + this.album + "&format=json&jsoncallback=getPhotos";	
			// http://api.flickr.com/services/feeds/photoset.gne?nsid=9885480@N02&set=72157662157461495&format=json&jsoncallback=getPhotos

			var script = document.createElement( "script" );
				script.src = src;
				document.body.appendChild( script );
		},
		getPhotos: function( photo ) {
			var limit = 14;
			
			if( photo && photo.items ) {
				var title = photo.title;
				var items = photo.items;
				var media = photo.media;
				console.log(media);
				var albumName = title.replace( "Content from ", "" );
				var html = "<h3>" + albumName + "</h3>";
				    html += "<div class='images'>";

				for( var i = 0; i < items.length; ++i ) {
					var item = items[i];
					var source = item.media.m.slice(0,-5) + "b.jpg";
					var picture = item.media.m.slice(0,-5) + "n.jpg";
					console.log(source);
					var n = i + 1;
					if( n <= limit ) {
						html += "<a href='" + source + "'><img src='" + picture + "' alt='' /></a>";
					}	
				}
				html += "</div>";
				
				document.querySelector( "#image-container" ).innerHTML = html;
			}	
		}
	};
	
	document.addEventListener( "DOMContentLoaded", function() {
		var flickrFeed = new FlickrProject();
		
	});
	document.addEventListener("Click", function() {
		e.preventDefault();
		lightbox_trigger
	});
	
})();









</script>


</body>
</html>